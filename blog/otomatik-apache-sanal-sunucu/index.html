<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=UTF-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1,user-scalable=no" name=viewport><meta content="index, follow" name=robots><title>Otomatik Apache Sanal Sunucu</title><meta content="Eray AydÄ±n" name=author><meta content="LAMP ortamÄ±nda Ã§alÄ±ÅŸÄ±rken sizin vaktinizi Ã§alan en bÃ¼yÃ¼k ÅŸeylerden biri sanal sunucular. Hatta sÄ±rf bu iÅŸlemden kurtulmak iÃ§in yazdÄ±ÄŸÄ±m scriptler de bulunmakta fakat daÄŸÄ±tÄ±mdan daÄŸÄ±tÄ±ma scripti dÃ¼zenlemem gerekiyordu" name=description><link href=https://era.yayd.in/blog/otomatik-apache-sanal-sunucu/ rel=canonical><link rel="shortcut icon" href=https://era.yayd.in/favicon.png type=image/x-icon><meta content=website property=og:type><meta content=https://era.yayd.in/blog/otomatik-apache-sanal-sunucu/ property=og:url><meta content="Eray AydÄ±n" property=og:site_name><meta content="Otomatik Apache Sanal Sunucu" property=og:title><meta content="LAMP ortamÄ±nda Ã§alÄ±ÅŸÄ±rken sizin vaktinizi Ã§alan en bÃ¼yÃ¼k ÅŸeylerden biri sanal sunucular. Hatta sÄ±rf bu iÅŸlemden kurtulmak iÃ§in yazdÄ±ÄŸÄ±m scriptler de bâ€¦" property=og:description><link href=https://era.yayd.in/atom.xml rel=alternate title=RSS type=application/atom+xml><link href=https://era.yayd.in/app.css rel=stylesheet><style></style><body><header><nav><a href=/> /home </a><a href=/about/> /about </a><a href=/journal/> /journal </a><a class=active href=/blog/> /blog </a><a href=https://github.com/erayaydin/erayaydin.github.io> /download </a><div><input id=themeToggle style=display:none type=checkbox><label for=themeToggle><svg class=icons id=themeIcon><use href=https://era.yayd.in/icons.svg#lightMode></use></svg></label><audio id=themeSound><source src=https://era.yayd.in/click.ogg type=audio/ogg></audio></div></nav></header><main><div><a href=..>..</a>/<span class=accent-data>otomatik-apache-sanal-sunucu</span></div><time datetime=2015-05-16T03:47:00>Published on: <span class=accent-data>2015-05-16T03:47:00</span></time><address rel=author>By <span class=accent-data>Eray AydÄ±n</span></address><h1>Otomatik Apache Sanal Sunucu</h1><hr><blockquote><p>You are reading an article that is more than a year old. The content might be outdated.</blockquote><hr><h2 id=toc>Table of contents</h2><ul><li><a href=https://era.yayd.in/blog/otomatik-apache-sanal-sunucu/#vhost-alias-modulunun-aktiflestirilmesi>Vhost Alias ModÃ¼lÃ¼nÃ¼n AktifleÅŸtirilmesi</a><li><a href=https://era.yayd.in/blog/otomatik-apache-sanal-sunucu/#modul-ayarlamalari>ModÃ¼l AyarlamalarÄ±</a><li><a href=https://era.yayd.in/blog/otomatik-apache-sanal-sunucu/#yerel-makineye-yonlendirme>Yerel Makineye YÃ¶nlendirme</a><li><a href=https://era.yayd.in/blog/otomatik-apache-sanal-sunucu/#test>Test</a></ul><hr><div class=page-content><p>LAMP ortamÄ±nda Ã§alÄ±ÅŸÄ±rken sizin vaktinizi Ã§alan en bÃ¼yÃ¼k ÅŸeylerden biri sanal sunucular. Hatta sÄ±rf bu iÅŸlemden kurtulmak iÃ§in yazdÄ±ÄŸÄ±m scriptler de bulunmakta fakat daÄŸÄ±tÄ±mdan daÄŸÄ±tÄ±ma scripti dÃ¼zenlemem gerekiyordu. Bu sorundan kurtulmak iÃ§in ufak bir araÅŸtÄ±rma yaptÄ±m ve <a href=http://akrabat.com/automatic-apache-vhosts/ rel=noopener target=_blank>ÅŸÃ¶yle</a> bir yararlÄ± dÃ¶kÃ¼man buldum. DÃ¶kÃ¼manda Apacheâ€™nin <code>mod_vhost_alias</code> modÃ¼lÃ¼nden bahsediliyor.<blockquote><p>DÃ¶kÃ¼manda iÅŸlemleri <code>Arch Linux</code>â€™a gÃ¶re yaptÄ±m. Gerekli deÄŸiÅŸiklikleri kendi daÄŸÄ±tÄ±mÄ±nÄ±za gÃ¶re yapmalÄ±sÄ±nÄ±z.</blockquote><h2 id=vhost-alias-modulunun-aktiflestirilmesi><a aria-label="Anchor link for: vhost-alias-modulunun-aktiflestirilmesi" class=no-style href=#vhost-alias-modulunun-aktiflestirilmesi>##</a> Vhost Alias ModÃ¼lÃ¼nÃ¼n AktifleÅŸtirilmesi</h2><p>Vhost alias modÃ¼lÃ¼nÃ¼ aktifleÅŸtirmek iÃ§in Apacheâ€™nin konfigÃ¼rasyon dosyasÄ±nda deÄŸiÅŸiklik yapmamÄ±z gerekiyor. Bunun iÃ§in <code>/etc/httpd/conf/httpd.conf</code> dosyasÄ±nÄ± dÃ¼zenliyoruz. Dosya iÃ§erisinde yer alan <code>mod_vhost_alias</code> modÃ¼lÃ¼nÃ¼n satÄ±rÄ±nÄ± bulup baÅŸÄ±ndaki yorum satÄ±rÄ±(<strong>#</strong>) iÅŸaretini kaldÄ±rÄ±yoruz. ArtÄ±k Apache baÅŸlangÄ±Ã§ta modÃ¼lÃ¼ aktifleÅŸtirecektir.<h2 id=modul-ayarlamalari><a aria-label="Anchor link for: modul-ayarlamalari" class=no-style href=#modul-ayarlamalari>##</a> ModÃ¼l AyarlamalarÄ±</h2><p>ModÃ¼lÃ¼ aktifleÅŸtirdik fakat henÃ¼z ayarlamalarÄ±nÄ± yapmadÄ±k. Bunun iÃ§in <code>/etc/httpd/conf/mod_vhost_alias.conf</code> isminde bir dosya oluÅŸturun. Dosya iÃ§eriÄŸini aÅŸaÄŸÄ±dan bulabilirsiniz. Ä°steÄŸinize gÃ¶re yollarÄ± dÃ¼zenleyebilirsiniz.<pre style=color:#c0c5ce;background-color:#2b303b><code><span>&LTVirtualhost *:80>
</span><span>    VirtualDocumentRoot "/srv/http/%-2+/public"
</span><span>    ServerName vhosts.dev
</span><span>    ServerAlias *.dev
</span><span>    UseCanonicalName Off
</span><span>    ErrorLog "/srv/http/vhosts-error_log"
</span><span>    &LTDirectory "/srv/http/*">
</span><span>        Options Indexes FollowSymLinks MultiViews
</span><span>        AllowOverride All
</span><span>        Order allow,deny
</span><span>        Allow from all
</span><span>    &LT/Directory>
</span><span>&LT/Virtualhost>
</span></code></pre><p>Bu dosyanÄ±n Apache tarafÄ±ndan kullanÄ±lmasÄ± iÃ§in <code>httpd.conf</code> dosyasÄ±nÄ±n en alt satÄ±rÄ±na aÅŸaÄŸÄ±daki metni girebilirsiniz.<pre style=color:#c0c5ce;background-color:#2b303b><code><span># Dynamic Virtual Hosts
</span><span>Include conf/mod_vhost_alias.conf
</span></code></pre><hr><p>ArtÄ±k <code>/srv/http</code> klasÃ¶rÃ¼ iÃ§erisindeki her aÃ§tÄ±ÄŸÄ±mÄ±z klasÃ¶r bir sanal sunucu olmuÅŸ olacak. Denemek amaÃ§lÄ± <code>/srv/http/deneme</code> ve <code>/srv/http/deneme/public</code> klasÃ¶rlerini oluÅŸturalÄ±m.<p>TarayÄ±cÄ±nÄ±zdan <code>deneme.dev</code> ÅŸeklinde girdiÄŸinizde istediÄŸiniz ÅŸekilde sonuÃ§lanmadÄ±ÄŸÄ±nÄ± gÃ¶receksiniz. Bunun sebebi henÃ¼z makinemiz sonu <strong>.dev</strong> ile biten domainleri <strong>127.0.0.1</strong> adresine yÃ¶nlendirmemesi.<h2 id=yerel-makineye-yonlendirme><a aria-label="Anchor link for: yerel-makineye-yonlendirme" class=no-style href=#yerel-makineye-yonlendirme>##</a> Yerel Makineye YÃ¶nlendirme</h2><p>Bu yÃ¶nlendirme iÅŸlemi iÃ§in 2 seÃ§eneÄŸimiz var.<ul><li>Yerel DNS Server<li>PAC dosyasÄ±</ul><p>Bu dÃ¶kÃ¼manda Yerel DNS Server yÃ¶ntemi ile yerel makineye yÃ¶nlendirme yapacaÄŸÄ±z.<blockquote><p>EÄŸer yerel DNS server yÃ¼klemek istemiyor veya PAC dosyasÄ± ile de uÄŸraÅŸmak istemiyorsanÄ±z <code>etc/hosts</code> dosyasÄ±nÄ± her sanal sunucu iÃ§in dÃ¼zenleyerek kullanadabilirsiniz fakat bu da yorucu olacak ve tam bir otomatiklik sÃ¶z konusu olmayacaktÄ±r.</blockquote><p>Yerel DNS server iÃ§in <code>dnsmasq</code> programÄ±nÄ± kullanacaÄŸÄ±z. Paket yÃ¶netim sisteminden kurulumunu gerÃ§ekleÅŸtirebilirsiniz.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>yaourt -S</span><span> dnsmasq
</span></code></pre><p>Kurulumdan sonra <code>etc/dnsmasq.conf</code> dosyasÄ±nÄ± dÃ¼zenleyin ve en alt satÄ±ra aÅŸaÄŸÄ±daki metni girin.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>listen-address</span><span>=</span><span style=color:#a3be8c>127.0.0.1
</span><span style=color:#bf616a>address</span><span>=</span><span style=color:#a3be8c>/.dev/127.0.0.1
</span></code></pre><p>Son olarak makinenizin sizin DNS sunucunuzu kullanmasÄ± iÃ§in DNS ayarlarÄ±nÄ±zÄ± 127.0.0.1 adresine yollamanÄ±z gerekiyor.<h2 id=test><a aria-label="Anchor link for: test" class=no-style href=#test>##</a> Test</h2><p>Ã–ncelikle DNS sunucunuzun doÄŸru Ã§alÄ±ÅŸÄ±p Ã§alÄ±ÅŸmadÄ±ÄŸÄ±nÄ± deneyelim.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>host</span><span> deneme.dev
</span></code></pre><p>EÄŸer sonuÃ§ 127.0.x.x ÅŸeklinde geliyorsa DNS sunucumuz Ã§alÄ±ÅŸÄ±yor demektir.<p><code>Apache</code>â€™yi yeniden baÅŸlatÄ±p oluÅŸturduÄŸumuz <code>deneme.dev</code> adresine tarayÄ±cÄ±nÄ±zdan ulaÅŸmayÄ± deneyin.</div><br><a class=button href=https://github.com/erayaydin/zola-personal-blog/blob/main/content/blog/2015-05-16-otomatik-apache-sanal-sunucu.md>Contribute to this post</a><hr><script async crossorigin issue-term=pathname label=ğŸ’¬ repo=erayaydin/erayaydin.github.io src=https://utteranc.es/client.js theme=preferred-color-scheme></script></main><footer><hr><div><div><p>Built with <a rel="noopener noreferrer" href=https://www.getzola.org target=_blank>Zola</a>, theme inspired from <a rel="noopener noreferrer" href=https://github.com/Speyll/anemone target=_blank>anemone</a>.</div><div><a rel="noopener noreferrer" title="Subscribe via RSS for updates." class=no-style href=https://era.yayd.in/atom.xml target=_blank><svg class=icons><use href=https://era.yayd.in/icons.svg#rss></use></svg></a></div></div></footer><script defer src=https://era.yayd.in/app.js></script>