<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=UTF-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1,user-scalable=no" name=viewport><meta content="index, follow" name=robots><title>Arch Linux - LAMP Kurulumu</title><meta content="Eray Aydın" name=author><meta content="Arch Linux için Apache, MySQL, PHP ve PHPMyAdmin kurulumu" name=description><link href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/ rel=canonical><link rel="shortcut icon" href=https://era.yayd.in/favicon.png type=image/x-icon><meta content=website property=og:type><meta content=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/ property=og:url><meta content="Eray Aydın" property=og:site_name><meta content="Arch Linux - LAMP Kurulumu" property=og:title><meta content="Arch Linux için Apache, MySQL, PHP ve PHPMyAdmin kurulumu" property=og:description><link href=https://era.yayd.in/atom.xml rel=alternate title=RSS type=application/atom+xml><link href=https://era.yayd.in/app.css rel=stylesheet><style></style><body><header><nav><a href=/> /home </a><a href=/about/> /about </a><a href=/journal/> /journal </a><a class=active href=/blog/> /blog </a><a href=https://github.com/erayaydin/erayaydin.github.io> /download </a><div><input id=themeToggle style=display:none type=checkbox><label for=themeToggle><svg class=icons id=themeIcon><use href=https://era.yayd.in/icons.svg#lightMode></use></svg></label><audio id=themeSound><source src=https://era.yayd.in/click.ogg type=audio/ogg></audio></div></nav></header><main><div><a href=..>..</a>/<span class=accent-data>arch-linux-lamp-kurulumu</span></div><time datetime=2017-07-01T01:00:00>Published on: <span class=accent-data>2017-07-01T01:00:00</span></time><address rel=author>By <span class=accent-data>Eray Aydın</span></address><h1>Arch Linux - LAMP Kurulumu</h1><hr><blockquote><p>You are reading an article that is more than a year old. The content might be outdated.</blockquote><hr><h2 id=toc>Table of contents</h2><ul><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#apache-kurulumu>Apache Kurulumu</a> <ul><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#apache-konfigurasyonu>Apache Konfigürasyonu</a> <ul></ul><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#otomatik-sanal-sunucu>Otomatik Sanal Sunucu</a> <ul></ul></ul><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#php-kurulumu>PHP Kurulumu</a> <ul><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#php-7>PHP 7</a> <ul></ul><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#php-8>PHP 8</a> <ul></ul><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#php-konfigurasyonu>PHP Konfigürasyonu</a> <ul><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#maksimum-calistirma-suresi>Maksimum Çalıştırma Süresi</a><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#hafiza-limiti>Hafıza Limiti</a><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#hatalari-gosterme>Hataları Gösterme</a><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#acilis-hata-mesajlari>Açılış Hata Mesajları</a><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#hatalari-izleme>Hataları İzleme</a><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#maksimum-post-buyuklugu>Maksimum POST Büyüklüğü</a><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#maksimum-dosya-buyuklugu>Maksimum Dosya Büyüklüğü</a><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#maksimum-dosya-adeti>Maksimum Dosya Adeti</a><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#timezone>Timezone</a></ul><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#php-modulleri>PHP Modülleri</a> <ul><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#bz2-bzip2>BZ2 (Bzip2)</a><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#ftp>FTP</a><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#gd-kutuphanesi>GD Kütüphanesi</a><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#gettext>Gettext</a><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#imap-pop3-ve-nntp>IMAP, POP3 ve NNTP</a><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#mcrypt>MCrypt</a><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#mysqli>MySQLi</a><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#pdo-mysql-odbc-dblib-postgresql-sqlite>PDO MySQL, ODBC, DBLib, PostgreSQL, SQLite</a><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#imagemagick>Imagemagick</a><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#modul-kontrolu>Modül Kontrolü</a></ul><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#composer>Composer</a> <ul></ul></ul><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#mysql-mariadb-kurulumu>MySQL (MariaDB) Kurulumu</a> <ul><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#guvenlik-ayarlamasi>Güvenlik Ayarlaması</a> <ul></ul><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#disardan-erisimi-iptal-etmek>Dışardan Erişimi İptal Etmek</a> <ul></ul><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#utf8mb4-kullanimi>UTF8MB4 Kullanımı</a> <ul></ul></ul><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#phpmyadmin-kurulumu>PHPMyAdmin Kurulumu</a> <ul><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#phpmyadmin-apache-ayarlamasi>PHPMyAdmin-Apache Ayarlaması</a> <ul></ul><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#phpmyadmin-disardan-erisimi-kapatma>PHPMyAdmin Dışardan Erişimi Kapatma</a> <ul></ul><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#otomatik-giris>Otomatik Giriş</a> <ul></ul></ul><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#sorun-cozme>Sorun Çözme</a> <ul><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#turkce-karakter-donusumu-sorunu>Türkçe Karakter Dönüşümü Sorunu</a> <ul></ul></ul><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#bitis>Bitiş</a><li><a href=https://era.yayd.in/blog/arch-linux-lamp-kurulumu/#contributors>Contributors</a></ul><hr><div class=page-content><h2 id=apache-kurulumu><a aria-label="Anchor link for: apache-kurulumu" class=no-style href=#apache-kurulumu>##</a> Apache Kurulumu</h2><p>Öncelikle paket yöneticisi yardımı ile <code>apache</code> paketinin kurulumunu gerçekleştirelim.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>pacman -S</span><span> apache
</span></code></pre><h3 id=apache-konfigurasyonu><a aria-label="Anchor link for: apache-konfigurasyonu" class=no-style href=#apache-konfigurasyonu>###</a> Apache Konfigürasyonu</h3><p>Gerekli apache ayarlaması yapmak için konfigürasyon dosyasında değişiklik yapacağız. Apache konfigürasyonu <code>/etc/httpd/conf/httpd.conf</code> dosyasında yer alıyor.<p>Ben profesyonel bir web sunucusunda çalışmadığım, geliştirme ortamında çalıştığım için Apache’nin kullandığı <code>user</code> olarak kendimi belirtiyorum. İsterseniz siz de bu şekilde belirtip daha rahat çalışabilirsiniz.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>User</span><span> eray
</span></code></pre><p>Eğer <code>80</code> portunu başka bir yazılımda kullanıyorsanız dilerseniz Apache’nin portunu değiştirebilirsiniz.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>Listen</span><span> 80
</span></code></pre><p>Dışardan sizin web sunucunuza erişim olmamasını istiyorsanız <code>Listen</code> parametresini <code>Listen 127.0.0.1:80</code> olarak değiştirebilirsiniz.<p>Varsayılan olarak <code>/srv/http</code> klasörü <code>DocumentRoot</code> olarak tanımlı. Belirttiğiniz klasör web olarak servis edilmekte. Dilerseniz bu klasörü değiştirebilirsiniz. Fakat değiştirdikten sonra <code>&LTDirectory "/srv/http"></code> kısmını da değiştirmeyi unutmayın. Aksi takdirde <strong>403 Hatası</strong> alırsınız.<p>Ek olarak <code>DocumentRoot</code> klasörü olarak belirtiğiniz klasör ve üst klasörleri <strong>executable</strong> yani çalıştırılabilir olmalıdır.<p>Klasörleriniz içerisinde <code>.htaccess</code> ile Apache üzerinde klasör bazlı ayar yapmak istiyorsanız <strong>AllowOverride</strong> değerini <strong>All</strong> olarak değiştirebilirsiniz. Ek olarak bunun çalışması için aşağıdaki satırı bulup önündeki yorum satırını kaldırın.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#65737e>#LoadModule rewrite_module modules/mod_rewrite.so
</span></code></pre><pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span>&LTDirectory "</span><span style=color:#a3be8c>/srv/http</span><span>">
</span><span style=color:#bf616a>...
</span><span style=color:#bf616a>AllowOverride</span><span> All
</span><span style=color:#bf616a>...
</span><span>&LT/Directory>
</span></code></pre><p>Varsayılan olarak Apache, kullanıcı klasörlerini destekliyor (<code>http://localhost/~eray</code>). Bu klasörü değiştirmek istiyorsanız <code>/etc/httpd/conf/extra/httpd-userdir.conf</code> dosyasından değiştirebilirsiniz.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#65737e># Settings for user home directories
</span><span style=color:#65737e>#
</span><span style=color:#65737e># Required module: mod_authz_core, mod_authz_host, mod_userdir
</span><span>
</span><span style=color:#65737e>#
</span><span style=color:#65737e># UserDir: The name of the directory that is appended onto a user's home
</span><span style=color:#65737e># directory if a ~user request is received.  Note that you must also set
</span><span style=color:#65737e># the default access control for these directories, as in the example below.
</span><span style=color:#65737e>#
</span><span style=color:#bf616a>UserDir</span><span> Webserver
</span><span>
</span><span style=color:#65737e>#
</span><span style=color:#65737e># Control access to UserDir directories.  The following is an example
</span><span style=color:#65737e># for a site where these directories are restricted to read-only.
</span><span style=color:#65737e>#
</span><span>&LTDirectory "</span><span style=color:#a3be8c>/home/*/Webserver</span><span>">
</span><span>    </span><span style=color:#bf616a>AllowOverride</span><span> FileInfo AuthConfig Limit Indexes
</span><span>    </span><span style=color:#bf616a>Options</span><span> MultiViews Indexes SymLinksIfOwnerMatch IncludesNoExec
</span><span>    </span><span style=color:#bf616a>Require</span><span> method GET POST OPTIONS
</span><span>&LT/Directory>
</span></code></pre><p>Yukarda da belirttiğim gibi klasörünüzün ve üst klasörlerin çalıştırılabilir olması gerekiyor. Bunun için çalıştırma izni vermelisiniz.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>chmod</span><span> o+x </span><span style=color:#bf616a>~
</span><span style=color:#bf616a>chmod -R</span><span> o+x </span><span style=color:#bf616a>~</span><span>/Webserver
</span></code></pre><p>Değişikliklerin geçerli olması için servisi yeniden başlatalım.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>systemctl</span><span> restart httpd
</span></code></pre><h3 id=otomatik-sanal-sunucu><a aria-label="Anchor link for: otomatik-sanal-sunucu" class=no-style href=#otomatik-sanal-sunucu>###</a> Otomatik Sanal Sunucu</h3><p>Daha önceden yazdığım <a href=https://erayaydin.github.io/linux/apache/otomatik-apache-sanal-sunucu/ rel=noopener target=_blank>Otomatik Apache Sanal Sunucu</a> adımlarını takip ederek klasör klasör sanal sunucu oluşturabilirsiniz.<h2 id=php-kurulumu><a aria-label="Anchor link for: php-kurulumu" class=no-style href=#php-kurulumu>##</a> PHP Kurulumu</h2><p>Paket yöneticisi yardımı ile <code>php</code> ve <code>php-apache</code> paketlerini sisteme yükleyeceğiz.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>pacman -S</span><span> php php-apache
</span></code></pre><p>Apache tarafında <code>mpm_event</code> modülü yerine <code>mpm_prefork</code> modülünü aktifleştirmemiz gerekiyor. Bu sebeple <code>/etc/httpd/conf/httpd.conf</code> dosyasındaki <strong>mpm_event</strong> modülünü yorum satırı yapıyoruz.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#65737e>#LoadModule mpm_event_module modules/mod_mpm_event.so
</span></code></pre><p>Ardından <strong>mpm_prefork</strong> modülünün yorum satırını kaldırıyoruz.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>LoadModule</span><span> mpm_prefork_module modules/mod_mpm_prefork.so
</span></code></pre><p>Dilerseniz <code>mpm_prefork</code> yerine de <code>proxy_fcgi</code> kullanabilirsiniz.<p>PHP’yi aktif etmek için <code>/etc/httpd/conf/httpd.conf</code> içerisindeki <code>LoadModule</code> listesinin sonuna aşağıdakini ekliyoruz.<h3 id=php-7><a aria-label="Anchor link for: php-7" class=no-style href=#php-7>###</a> PHP 7</h3><pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>LoadModule</span><span> php7_module modules/libphp7.so
</span><span style=color:#bf616a>AddHandler</span><span> php7-script php
</span></code></pre><p>Aynı şekilde <code>Include</code> listesinin sonuna da aşağıdakini ekliyoruz.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>Include</span><span> conf/extra/php7_module.conf
</span></code></pre><h3 id=php-8><a aria-label="Anchor link for: php-8" class=no-style href=#php-8>###</a> PHP 8</h3><p><code>LoadModule</code><pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span>  </span><span style=color:#bf616a>LoadModule</span><span> php_module modules/libphp.so
</span><span>  </span><span style=color:#bf616a>AddHandler</span><span> php-script .php
</span></code></pre><p><code>Include</code><pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span>  </span><span style=color:#bf616a>Include</span><span> conf/extra/php_module.conf
</span></code></pre><p>Servisi yeniden başlatıyoruz.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>systemctl</span><span> restart httpd
</span></code></pre><p>PHP kurulumunu test etmek için aşağıdaki gibi <code>test.php</code> isminde bir dosya oluşturabilirsiniz.<pre class=language-php data-lang=php style=color:#c0c5ce;background-color:#2b303b><code class=language-php data-lang=php><span style=color:#ab7967>&LT?php </span><span style=color:#96b5b4>phpinfo</span><span>();
</span></code></pre><h3 id=php-konfigurasyonu><a aria-label="Anchor link for: php-konfigurasyonu" class=no-style href=#php-konfigurasyonu>###</a> PHP Konfigürasyonu</h3><p>PHP ile ilgili ayarlamaları <code>/etc/php/php.ini</code> dosyası üzerinden yapacağız.<h4 id=maksimum-calistirma-suresi><a aria-label="Anchor link for: maksimum-calistirma-suresi" class=no-style href=#maksimum-calistirma-suresi>####</a> Maksimum Çalıştırma Süresi</h4><p>Her scriptin saniye olarak belirli bir <strong>timeout</strong> yani zaman aşımı süresi vardır. Dilerseniz bunu değiştirebilir hatta limitsiz yapabilirsiniz.<pre class=language-ini data-lang=ini style=color:#c0c5ce;background-color:#2b303b><code class=language-ini data-lang=ini><span style=color:#65737e>; CLI kullanımlarında 0 değeri otomatik olarak verilmektedir. Yani zaman aşımı yoktur
</span><span style=color:#bf616a>max_execution_time </span><span>= </span><span style=color:#d08770>60
</span></code></pre><h4 id=hafiza-limiti><a aria-label="Anchor link for: hafiza-limiti" class=no-style href=#hafiza-limiti>####</a> Hafıza Limiti</h4><p>Bir scriptin çalıştırılmasında harcanabilecek maksimum hafıza miktarıdır. Varsayılan olarak 128MB seçili bunu dilerseniz arttırabilirsiniz.<pre class=language-ini data-lang=ini style=color:#c0c5ce;background-color:#2b303b><code class=language-ini data-lang=ini><span style=color:#bf616a>memory_limit </span><span>= </span><span style=color:#d08770>1024M
</span></code></pre><h4 id=hatalari-gosterme><a aria-label="Anchor link for: hatalari-gosterme" class=no-style href=#hatalari-gosterme>####</a> Hataları Gösterme</h4><p>Geliştirme ortamında çalışanlar için hataları görmek önemlidir. Bu sebeple <code>error_reporting</code> değerini belirttiğiniz hata türlerine göre değiştirebilirsiniz.<pre class=language-ini data-lang=ini style=color:#c0c5ce;background-color:#2b303b><code class=language-ini data-lang=ini><span style=color:#bf616a>error_reporting </span><span>= E_ALL
</span></code></pre><p>Ek olarak, hata mesajlarını ekrana yazdırmak için de <code>display_errors</code> değerini kullanabilirsiniz. Geliştirme ortamında bu değeri <code>On</code> yapmanız yararlı olacaktır.<pre class=language-ini data-lang=ini style=color:#c0c5ce;background-color:#2b303b><code class=language-ini data-lang=ini><span style=color:#bf616a>display_errors </span><span>= </span><span style=color:#d08770>On
</span></code></pre><h4 id=acilis-hata-mesajlari><a aria-label="Anchor link for: acilis-hata-mesajlari" class=no-style href=#acilis-hata-mesajlari>####</a> Açılış Hata Mesajları</h4><p>PHP’nin kendisini çalıştırmaya başladığınızda çıkan sorunlardır. Genellikle konfigürasyonla ilgili hatalar olduğunda çıkar. Bunların bastırılmaması ve ekranda gözükmesi için <code>On</code> değerini verebilirsiniz. Tabi ki sadece geliştirme ortamında kullanmanız gerekiyor.<pre class=language-ini data-lang=ini style=color:#c0c5ce;background-color:#2b303b><code class=language-ini data-lang=ini><span style=color:#bf616a>display_startup_errors </span><span>= </span><span style=color:#d08770>On
</span></code></pre><h4 id=hatalari-izleme><a aria-label="Anchor link for: hatalari-izleme" class=no-style href=#hatalari-izleme>####</a> Hataları İzleme</h4><p><code>track_errors</code> değerini aktif hale getirerek script içerisinde <code>$php_errormsg</code> değişkeni ile son hata mesajını alabilirsiniz. Kullandığınız çalışma ortamında gerekli olabilir.<pre class=language-ini data-lang=ini style=color:#c0c5ce;background-color:#2b303b><code class=language-ini data-lang=ini><span style=color:#bf616a>track_errors </span><span>= </span><span style=color:#d08770>On
</span></code></pre><h4 id=maksimum-post-buyuklugu><a aria-label="Anchor link for: maksimum-post-buyuklugu" class=no-style href=#maksimum-post-buyuklugu>####</a> Maksimum POST Büyüklüğü</h4><p>PHP’nin kabul edeceği maksimum POST veri büyüklüğüdür. Dilerseniz <strong>0</strong> değeri vererek limiti kaldırabilirsiniz.<pre class=language-ini data-lang=ini style=color:#c0c5ce;background-color:#2b303b><code class=language-ini data-lang=ini><span style=color:#bf616a>post_max_size </span><span>= </span><span style=color:#d08770>50M
</span></code></pre><h4 id=maksimum-dosya-buyuklugu><a aria-label="Anchor link for: maksimum-dosya-buyuklugu" class=no-style href=#maksimum-dosya-buyuklugu>####</a> Maksimum Dosya Büyüklüğü</h4><p>Yüklenebilecek dosyalar için maksimum dosya boyutudur. Varsayılan olarak <code>2M</code> yer alıyor.<pre class=language-ini data-lang=ini style=color:#c0c5ce;background-color:#2b303b><code class=language-ini data-lang=ini><span style=color:#bf616a>upload_max_filesize </span><span>= </span><span style=color:#d08770>200M
</span></code></pre><h4 id=maksimum-dosya-adeti><a aria-label="Anchor link for: maksimum-dosya-adeti" class=no-style href=#maksimum-dosya-adeti>####</a> Maksimum Dosya Adeti</h4><p>Bir request içerisinde yüklenebilecek maksimum dosya adetidir. Varsayılan olarak <code>20</code> yer alıyor.<pre class=language-ini data-lang=ini style=color:#c0c5ce;background-color:#2b303b><code class=language-ini data-lang=ini><span style=color:#bf616a>max_file_uploads </span><span>= </span><span style=color:#d08770>200
</span></code></pre><h4 id=timezone><a aria-label="Anchor link for: timezone" class=no-style href=#timezone>####</a> Timezone</h4><p>Geçerli bölgenizi ayarlamak için <code>date.timezone</code> değerini değiştirebilirsiniz. Önündeki yorum satırını kaldırmayı unutmayınız.<pre class=language-ini data-lang=ini style=color:#c0c5ce;background-color:#2b303b><code class=language-ini data-lang=ini><span style=color:#bf616a>date</span><span>.timezone = Europe/Istanbul
</span></code></pre><h3 id=php-modulleri><a aria-label="Anchor link for: php-modulleri" class=no-style href=#php-modulleri>###</a> PHP Modülleri</h3><p>Çeşitli php eklentilerini aktif etmek için öncelikle paket yöneticisi yardımı ile eklentiyi yüklemeli ardından <code>php.ini</code> dosyasında yüklediğiniz eklentiyi aktif hale getirmelisiniz. Bunun için basşındaki yorum satırını kaldırabilirsiniz.<h4 id=bz2-bzip2><a aria-label="Anchor link for: bz2-bzip2" class=no-style href=#bz2-bzip2>####</a> BZ2 (Bzip2)</h4><p>Script içerisinde Bzip fonksiyonlarını(bzclose, bzcompress, bzdecompress, bzopen, bzread, bzwrite vs.) kullanmak için aktif edebilirsiniz. Aktif hale getirmek için <code>php.ini</code> dosyasında ilgili satırın başındaki noktalı virgülü kaldırmanız yeterli.<pre class=language-ini data-lang=ini style=color:#c0c5ce;background-color:#2b303b><code class=language-ini data-lang=ini><span style=color:#bf616a>extension</span><span>=bz2.so
</span></code></pre><h4 id=ftp><a aria-label="Anchor link for: ftp" class=no-style href=#ftp>####</a> FTP</h4><p>Script içerisinde FTP işlemleri yapmak için bu modülü aktif hale getirebilirsiniz.<pre class=language-ini data-lang=ini style=color:#c0c5ce;background-color:#2b303b><code class=language-ini data-lang=ini><span style=color:#bf616a>extension</span><span>=ftp.so
</span></code></pre><h4 id=gd-kutuphanesi><a aria-label="Anchor link for: gd-kutuphanesi" class=no-style href=#gd-kutuphanesi>####</a> GD Kütüphanesi</h4><p>Resim işleme ve oluşturma yapıyorsanız bu modülü aktif hale getirebilirsiniz.<pre class=language-ini data-lang=ini style=color:#c0c5ce;background-color:#2b303b><code class=language-ini data-lang=ini><span style=color:#bf616a>extension</span><span>=gd.so
</span></code></pre><p>Ek olarak paketi kurmayı unutmayın.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>pacman -S</span><span> gd php-gd
</span></code></pre><h4 id=gettext><a aria-label="Anchor link for: gettext" class=no-style href=#gettext>####</a> Gettext</h4><p>Genellikle dil desteği amaçlı kullanılan gettext kütüphanesini aktif edebilirsiniz.<pre class=language-ini data-lang=ini style=color:#c0c5ce;background-color:#2b303b><code class=language-ini data-lang=ini><span style=color:#bf616a>extension</span><span>=gettext.so
</span></code></pre><h4 id=imap-pop3-ve-nntp><a aria-label="Anchor link for: imap-pop3-ve-nntp" class=no-style href=#imap-pop3-ve-nntp>####</a> IMAP, POP3 ve NNTP</h4><p>Imap fonksiyonlarını kullanmak için aktif hale getirebilirsiniz.<pre class=language-ini data-lang=ini style=color:#c0c5ce;background-color:#2b303b><code class=language-ini data-lang=ini><span style=color:#bf616a>extension</span><span>=imap.so
</span></code></pre><p>Ek olarak paketi kurmayı unutmayın.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>pacman -S</span><span> php-imap
</span></code></pre><h4 id=mcrypt><a aria-label="Anchor link for: mcrypt" class=no-style href=#mcrypt>####</a> MCrypt</h4><p>Çeşitli kütüphaneler tarafından da kullanılan <strong>mcrypt_</strong> fonksiyonlarına erişmek için aktif hale getirebilirsiniz.<pre class=language-ini data-lang=ini style=color:#c0c5ce;background-color:#2b303b><code class=language-ini data-lang=ini><span style=color:#bf616a>extension</span><span>=mcrypt.so
</span></code></pre><p>Ek olarak paketini de kurun.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>pacman -S</span><span> php-mcrypt
</span></code></pre><h4 id=mysqli><a aria-label="Anchor link for: mysqli" class=no-style href=#mysqli>####</a> MySQLi</h4><p>MySQLi fonksiyonlarını kullanmak istiyorsanız aktif hale getirebilirsiniz.<pre class=language-ini data-lang=ini style=color:#c0c5ce;background-color:#2b303b><code class=language-ini data-lang=ini><span style=color:#bf616a>extension</span><span>=mysqli.so
</span></code></pre><h4 id=pdo-mysql-odbc-dblib-postgresql-sqlite><a aria-label="Anchor link for: pdo-mysql-odbc-dblib-postgresql-sqlite" class=no-style href=#pdo-mysql-odbc-dblib-postgresql-sqlite>####</a> PDO MySQL, ODBC, DBLib, PostgreSQL, SQLite</h4><p>PDO ile belirtilen veritabanı yönetim sistemlerini kullanmak için eklentiyi aktif hale getirebilirsiniz. Seçtiğiniz veritabanı sistemini de bilgisayarınıza kurmayı unutmayın.<pre class=language-ini data-lang=ini style=color:#c0c5ce;background-color:#2b303b><code class=language-ini data-lang=ini><span style=color:#bf616a>extension</span><span>=pdo_dblib.so
</span><span style=color:#bf616a>extension</span><span>=pdo_mysql.so
</span><span style=color:#bf616a>extension</span><span>=php_odbc.so
</span><span style=color:#bf616a>extension</span><span>=php_pgsql.so
</span><span style=color:#bf616a>extension</span><span>=php_sqlite.so
</span></code></pre><h4 id=imagemagick><a aria-label="Anchor link for: imagemagick" class=no-style href=#imagemagick>####</a> Imagemagick</h4><p>Resim işleme için kullanabileceğiniz bir paket. AUR deposundan indirebilirsiniz.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>yaourt -S</span><span> php-imagick
</span></code></pre><p><code>/etc/php/conf.d/</code> klasörü içerisine kendisi dosya attığı için otomatik olarak aktif hale geliyor. <code>php.ini</code> üzerinde değişiklik yapmanıza gerek yok.<h4 id=modul-kontrolu><a aria-label="Anchor link for: modul-kontrolu" class=no-style href=#modul-kontrolu>####</a> Modül Kontrolü</h4><p>Kurduğunuz PHP modüllerini test etmek için aşağıdaki komutu kullanabilirsiniz.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>php -m
</span></code></pre><p>Sonuç olarak size eklenen modülleri döndürecektir.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>[PHP</span><span> Modules]
</span><span style=color:#bf616a>bz2
</span><span style=color:#bf616a>Core
</span><span style=color:#bf616a>ctype
</span><span style=color:#bf616a>curl
</span><span style=color:#bf616a>date
</span><span style=color:#bf616a>dom
</span><span style=color:#bf616a>fileinfo
</span><span style=color:#bf616a>filter
</span><span style=color:#bf616a>ftp
</span><span style=color:#bf616a>gd
</span><span style=color:#bf616a>gettext
</span><span style=color:#96b5b4>hash
</span><span style=color:#bf616a>imap
</span><span style=color:#bf616a>json
</span><span style=color:#bf616a>libxml
</span><span style=color:#bf616a>mbstring
</span><span style=color:#bf616a>mcrypt
</span><span style=color:#bf616a>mysqli
</span><span style=color:#bf616a>mysqlnd
</span><span style=color:#bf616a>openssl
</span><span style=color:#bf616a>pcntl
</span><span style=color:#bf616a>pcre
</span><span style=color:#bf616a>PDO
</span><span style=color:#bf616a>pdo_mysql
</span><span style=color:#bf616a>pdo_sqlite
</span><span style=color:#bf616a>Phar
</span><span style=color:#bf616a>posix
</span><span style=color:#bf616a>readline
</span><span style=color:#bf616a>Reflection
</span><span style=color:#bf616a>session
</span><span style=color:#bf616a>SimpleXML
</span><span style=color:#bf616a>SPL
</span><span style=color:#bf616a>standard
</span><span style=color:#bf616a>tokenizer
</span><span style=color:#bf616a>xml
</span><span style=color:#bf616a>xmlreader
</span><span style=color:#bf616a>xmlwriter
</span><span style=color:#bf616a>zip
</span><span style=color:#bf616a>zlib
</span></code></pre><h3 id=composer><a aria-label="Anchor link for: composer" class=no-style href=#composer>###</a> Composer</h3><p>PHP’nin bağımlılık yöneticisi olarak kullanılan <strong>Composer</strong>’ı yüklemek için paket yöneticisini kullanabilirsiniz.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>pacman -S</span><span> composer
</span></code></pre><p>Kurulumu test etmek için<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>composer --version
</span></code></pre><h2 id=mysql-mariadb-kurulumu><a aria-label="Anchor link for: mysql-mariadb-kurulumu" class=no-style href=#mysql-mariadb-kurulumu>##</a> MySQL (MariaDB) Kurulumu</h2><p>MariaDB, Arch Linux’un varsayılan MySQL implementasyonudur. Oracle firmasının MySQL’ini kullanmak için AUR’u kullanabilirsiniz fakat MariaDB’yi öneririm.<p>Paket yöneticisinden <code>mariadb</code> paketini yükleyelim.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>pacman -S</span><span> mariadb
</span></code></pre><p>MariaDB servisini başlatmadan önce birkaç ayarlama yapacak olan <code>mysql_install_db</code>’yi çalıştırıyoruz. Kurulum yerini dilerseniz değiştirebilirsiniz fakat <code>/home</code> <code>/root</code> ve <code>/run/user</code> klasörlerini tercih etmeyin. Çünkü <code>ProtectHome=true</code> değeri bulunduğu için bu klasörlere MariaDB tarafından erişim sağlanamıyor. Ek olarak <code>datadir</code> klasör değişimini <code>/etc/mysql/my.cnf</code> içerisinde de yapmalısınız.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>mysql_install_db --user</span><span>=mysql</span><span style=color:#bf616a> --basedir</span><span>=/usr</span><span style=color:#bf616a> --datadir</span><span>=/var/lib/mysql
</span></code></pre><p>Artık servisi başlatabilirsiniz.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>systemctl</span><span> start mysqld
</span></code></pre><h3 id=guvenlik-ayarlamasi><a aria-label="Anchor link for: guvenlik-ayarlamasi" class=no-style href=#guvenlik-ayarlamasi>###</a> Güvenlik Ayarlaması</h3><p>Veritabanı katmanında birkaç güvenlik önlemi almak ve <code>root</code> parolasını da değiştirmek için aşağıdaki scripti çalıştırabilirsiniz.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>mysql_secure_installation
</span></code></pre><p>Çalıştırma sırasında sorulan sorular şu şekilde:<ul><li><strong>Set root password?</strong> <code>root</code> parolasını değiştirmek istiyorsanız <code>Y</code> seçeneğini seçin.<li><strong>Remove anonymous users?</strong> Genellikle test amaçlı olarak gizli kullanıcılara izin veriliyor Dilerseniz bunları silebilirsiniz.<li><strong>Disallow root login remotely?</strong> <code>root</code> kullanıcısına <code>localhost</code> haricinde erğişimi kapatmak için <code>Y</code> seçeneğini seçebilirsiniz.<li><strong>Remove test database and access to it?</strong> Test veritabanını ve ona erişimi kaldırmak istiyorsanız <code>Y</code> seçeneğini seçebilirsiniz.<li><strong>Reload privilege tables now?</strong> Değişikliklerin hemen geçerli olmasını istiyorsanız <code>Y</code> seçebilirsiniz.</ul><h3 id=disardan-erisimi-iptal-etmek><a aria-label="Anchor link for: disardan-erisimi-iptal-etmek" class=no-style href=#disardan-erisimi-iptal-etmek>###</a> Dışardan Erişimi İptal Etmek</h3><p>Varsayılan olarak MySQL dışardan erişime açıktır. Dışardan erişimleri engellemek için <code>/etc/mysql/my.cnf</code> dosyasındaki aşağıdaki satırın başındaki yorum simgesini kaldırmanız yeterli.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>skip-networking
</span></code></pre><p>Dışardan erişim kapatılsa dahi <strong>localhost</strong> üzerinden giriş yapabilirsiniz.<h3 id=utf8mb4-kullanimi><a aria-label="Anchor link for: utf8mb4-kullanimi" class=no-style href=#utf8mb4-kullanimi>###</a> UTF8MB4 Kullanımı</h3><p><strong>UTF-8</strong> yerine <strong>UTF8MB4</strong> kullanmanızı tavsiye ederim. Tam anlamıyla Unicode desteği sağlamış olursunuz. Bunun için <code>/etc/mysql/my.cnf</code> içerisine aşağıdaki satırları eklemeniz yeterli.<pre class=language-ini data-lang=ini style=color:#c0c5ce;background-color:#2b303b><code class=language-ini data-lang=ini><span style=color:#b48ead>[client]
</span><span style=color:#bf616a>default-character-set </span><span>= utf8mb4
</span><span>
</span><span style=color:#b48ead>[mysqld]
</span><span style=color:#bf616a>collation_server </span><span>= utf8mb4_unicode_ci
</span><span style=color:#bf616a>character_set_client </span><span>= utf8mb4
</span><span style=color:#bf616a>character_set_server </span><span>= utf8mb4
</span><span style=color:#bf616a>skip-character-set-client-handshake
</span><span>
</span><span style=color:#b48ead>[mysql]
</span><span style=color:#bf616a>default-character-set </span><span>= utf8mb4
</span></code></pre><h2 id=phpmyadmin-kurulumu><a aria-label="Anchor link for: phpmyadmin-kurulumu" class=no-style href=#phpmyadmin-kurulumu>##</a> PHPMyAdmin Kurulumu</h2><p>Web tabanlı olarak MySQL veritabanlarını yönetmek için kullanabilirsiniz.<p>Öncelikle <code>phpmyadmin</code> paketini sistemimize kuralım.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>pacman -S</span><span> phpmyadmin
</span></code></pre><p>PHP tarafında <code>mysqli</code> modülünü aktif etmemiz gerekiyor, bunu PHP kısmında anlattık.<p>Ek olarak <code>bz2</code> ve <code>zip</code> modüllerini de aktif hale getirerek sıkıştırılmış dosya desteği de ekleyebilirsiniz.<h3 id=phpmyadmin-apache-ayarlamasi><a aria-label="Anchor link for: phpmyadmin-apache-ayarlamasi" class=no-style href=#phpmyadmin-apache-ayarlamasi>###</a> PHPMyAdmin-Apache Ayarlaması</h3><p>Apache tarafında <code>.../phpmyadmin</code> olarak girildiğinde PHPMyAdmin gözükmesi için birkaç ayarlama yapmamız gerekiyor. Bunun için <code>/etc/httpd/conf/extra/phpmyadmin.conf</code> dosyası oluşturup içerisine aşağıdakileri ekleyelim.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>Alias</span><span> /phpmyadmin "</span><span style=color:#a3be8c>/usr/share/webapps/phpMyAdmin</span><span>"
</span><span>&LTDirectory "</span><span style=color:#a3be8c>/usr/share/webapps/phpMyAdmin</span><span>">
</span><span>    </span><span style=color:#bf616a>DirectoryIndex</span><span> index.php
</span><span>    </span><span style=color:#bf616a>AllowOverride</span><span> All
</span><span>    </span><span style=color:#bf616a>Options</span><span> FollowSymlinks
</span><span>    </span><span style=color:#bf616a>Require</span><span> all granted
</span><span>&LT/Directory>
</span></code></pre><p>Ardından bunu <code>/etc/httpd/conf/httpd.conf</code> dosyası içerisinde dahil edelim.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#65737e># PHPMyAdmin
</span><span style=color:#bf616a>Include</span><span> conf/extra/phpmyadmin.conf
</span></code></pre><h3 id=phpmyadmin-disardan-erisimi-kapatma><a aria-label="Anchor link for: phpmyadmin-disardan-erisimi-kapatma" class=no-style href=#phpmyadmin-disardan-erisimi-kapatma>###</a> PHPMyAdmin Dışardan Erişimi Kapatma</h3><p>Varsayılan olarak web servis dosyalarımızı görebilen herkes PHPMyAdmin arayüzüne de erişebilmekte. Bunu devredışı bırakmak için <code>/etc/httpd/conf/extra/phpmyadmin.conf</code> dosyasında yer alan <code>Require all  granted</code> parametresini <code>Require local</code> olarak değiştirmemiz yeterli.<h3 id=otomatik-giris><a aria-label="Anchor link for: otomatik-giris" class=no-style href=#otomatik-giris>###</a> Otomatik Giriş</h3><p>PHPMyAdmin kısmında veritabanı kullanıcı bilgilerini girmenize gerek kalmadan otomatik olarak giriş yapmak için <code>/etc/webapps/phpmyadmin/config.inc.php</code> dosyasındaki <code>auth_type</code> değerini <code>config</code> olarak değiştirin.<pre class=language-php data-lang=php style=color:#c0c5ce;background-color:#2b303b><code class=language-php data-lang=php><span>$cfg['Servers'][$i]['auth_type'] = 'config';
</span></code></pre><p>Ardından alt satıra aşağıdaki eklemeleri yapın.<pre class=language-php data-lang=php style=color:#c0c5ce;background-color:#2b303b><code class=language-php data-lang=php><span>$cfg['Servers'][$i]['user'] = 'root';
</span><span>$cfg['Servers'][$i]['password'] = 'mysql_parolasi'; 
</span></code></pre><h2 id=sorun-cozme><a aria-label="Anchor link for: sorun-cozme" class=no-style href=#sorun-cozme>##</a> Sorun Çözme</h2><p>Apache, MySQL, PHP ve PHPMyAdmin ile ilgili karşılaşabileceğiniz sorunlara ait çözümler.<h3 id=turkce-karakter-donusumu-sorunu><a aria-label="Anchor link for: turkce-karakter-donusumu-sorunu" class=no-style href=#turkce-karakter-donusumu-sorunu>###</a> Türkçe Karakter Dönüşümü Sorunu</h3><p>Laravel, Symfony veya diğer kütüphanelerde olduğu gibi kendi sisteminizde de oluşabilecek bir sorun. PHP karakterin büyük harf, küçük harf dönüşümü için sistem dilini kullanmakta. Bu sebeple Arch Linux sisteminize öncelikle <code>en_US.UTF-8</code> dilini eklemelisiniz. Bunun için <code>/etc/locale.gen</code> dosyasında yer alan aşağıdaki satırın yorum simgesini(#) kaldırın.<pre style=color:#c0c5ce;background-color:#2b303b><code><span>en_US.UTF-8 UTF-8
</span></code></pre><p>Ardından bu dil dosyalarının oluşturulmasını sağlayın.<pre style=color:#c0c5ce;background-color:#2b303b><code><span>locale-gen
</span></code></pre><p>Son olarak <code>LC_CTYPE</code> yani PHP’nin dönüşüm için kullandığı dili değiştirmeliyiz. Bunun için de <code>/etc/locale.conf</code> içerisine aşağıdaki satırı ekleyin.<pre style=color:#c0c5ce;background-color:#2b303b><code><span>LC_CTYPE=en_US.UTF-8
</span></code></pre><p>Bu sorunun farkedilmesi ve çözümü ile ilgili yardımlarından dolayı Burak Karahan’a (<a href=https://twitter.com/mburakkarahan rel=noopener target=_blank>@mburakkarahan</a>) teşekkür ederim.<h2 id=bitis><a aria-label="Anchor link for: bitis" class=no-style href=#bitis>##</a> Bitiş</h2><p><strong>LAMP Stack</strong> kurulumunu tamamladık. Dilerseniz geliştirme ortamınızı daha da iyi hale getirebilirsiniz. Makalede hata veya eksik varsa özür dilerim, bunları bana iletirseniz gerekli eklemeleri yapacağım. Teşekkürler.<h1 id=contributors><a aria-label="Anchor link for: contributors" class=no-style href=#contributors>#</a> Contributors</h1><table><thead><tr><th>Github<th>Email<th>Website<tbody><tr><td><a href=https://github.com/ahmetbarut rel=noopener target=_blank>ahmetbarut</a><td>ahmetbarut588@gmail.com<td><a href=https://ahmetbarut.net rel=noopener target=_blank>ahmetbarut.net</a></table></div><br><a class=button href=https://github.com/erayaydin/zola-personal-blog/blob/main/content/blog/2017-07-01-arch-linux-lamp-kurulumu.md>Contribute to this post</a><hr><script async crossorigin issue-term=pathname label=💬 repo=erayaydin/erayaydin.github.io src=https://utteranc.es/client.js theme=preferred-color-scheme></script></main><footer><hr><div><div><p>Built with <a rel="noopener noreferrer" href=https://www.getzola.org target=_blank>Zola</a>, theme inspired from <a rel="noopener noreferrer" href=https://github.com/Speyll/anemone target=_blank>anemone</a>.</div><div><a rel="noopener noreferrer" title="Subscribe via RSS for updates." class=no-style href=https://era.yayd.in/atom.xml target=_blank><svg class=icons><use href=https://era.yayd.in/icons.svg#rss></use></svg></a></div></div></footer><script defer src=https://era.yayd.in/app.js></script>